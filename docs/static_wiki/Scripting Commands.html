<html>
  <head>
    <title>cube &raquo; Scripting Commands</title>
    <link rel="stylesheet" href="static/style.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
<h1 id="toc0">Command Reference</h1>
<br />
The following is an excerpt of commands available to you for scripting,<br />
refer to your local documentation to find out all commands available.<br />
On this page you will find commands and examples of usage to help get you into CubeScript.<br />
Almost all commands can be used in scripting, although a map-cfg cannot override persitent values - including among others <tt>watersubdiv</tt>, <tt>waterlod</tt>, <tt>maxparticledistance</tt> and <tt>fov</tt> among others.<br />
You can't override them in a map-cfg - a message will be output to your console in such cases - <br />
you can only set them manually. It counts as a manual setting if used via the menu!<br />
<br />
<hr />
<br />

<pre><code>exec C</code></pre>

Executes all commands in config file C.<br />
<br />

<pre><code>history N</code></pre>

Executes the Nth command in the command line history. For example, binding &quot;history 0&quot; to a key allows you to quickly repeat the last command typed in (useful for placing many identical entities etc.)<br />
<br />

<pre><code>saycommand P...</code></pre>

This puts a prompt on screen where you can type stuff into, which will capture all keystrokes until you press return (or esc to cancel). You may press tab to autocomplete commands/aliases/variables, and up/down keys to browse the command history. If what you typed started with a &quot;/&quot;, the rest of it will be executed as a command, otherwise its something you &quot;say&quot; to all players. default key = T for talk, ` for commands. If P is prefix to insert to the buffer, (default key ` inserts a /).<br />
<br />
The following example will prepare one of three messages to be output via <tt>say</tt>, but don't be fooled, you can execute anything else besides <tt>say</tt> with this too.<br />
It binds the key <strong>K</strong> to prepare the command onto the console upon release of the key.<br />
You will only see a beautified display - for example : <em>GREET #2</em><br />
But if you confirm the command, it will execute the prepared <strong>saycommand</strong>.<br />

<pre><code>// ----------------
// greetings :
// ----------------

GMSG0   = &quot;Hi! Let's Get It On!&quot;
GMSG1   = &quot;Hello! Get Ready To Be Cubed&quot;
GMSG2   = &quot;Hi There! Let's Fight Some...&quot;

// change MAXC if you add/remove greetings above
GMSG_MAXC = 2
// the first index to use (default : 0)
GMSGCOUNT = 0

// ----------------
// beautification :
// ----------------

CCOL = &quot;:^L0&quot;
// JAT : sic! ::
JAT = &quot;                                                                                                                                         &quot;
// :: JAT : sic!
J4U = (concatword $JAT &quot;;&quot;)

// ----------------
// functionality :
// ----------------

// bogus alias, to allow for pretty command call
GREET = []

greeting = [
    GMSGCOUNT = (+ $GMSGCOUNT 1)
    if (&gt; $GMSGCOUNT $GMSG_MAXC) [GMSGCOUNT = 0]
    CIN = (concatword &quot;#&quot; $GMSGCOUNT)
    CVN = (concatword &quot;$&quot; GMSG $GMSGCOUNT)
    // this is what to output - it will look pretty
    // and even ignores any surplus hitting of keys by the user ;)
    CSC = (concat GREET $CCOL $CIN $J4U say @$CVN &quot;;foo = bar&quot;)
    onrelease [saycommand [/@@CSC]]
]

bind K [greeting]</code></pre>

<br />

<pre><code>weapon a b c</code></pre>

Tries to select weapons a, b &amp; c, in that order, if they have ammo ( 0 = fist, 1 = sg, 2 = cg, 3 = rl, 4 = rifle, 5 = gl ). If none of the 3 indicated have any ammo, it will try the remaining weapons for one with ammo (in order 3/2/1/4/0) (the fist needs no ammo). You can use the weapon command with 0 to 3 arguments. examples:<br />
<br />

<pre><code>// close up selection :
weapon 2 1 0

// far away selection :
weapon 4 3 2

// medium distance selection :
weapon 3 2 1

// humiliate selection :)
weapon 0

// just switch to anything with ammo :
weapon</code></pre>

<br />
In any selection, it will skip whichever weapon you have currently selected, so executing a weapon command repeatedly toggles between the two best weapons with ammo within a given selection. default keys 0 to 4 select the corresponding weapons, with sensible default alternatives, middle mouse button is a simple weapon switch.<br />
<br />

<pre><code>alias N A
N = A</code></pre>

Binds name N to commands A, after which you can use N as a shortcut for A. You may re-bind N as often as you like, call it recursively etc. You may use N = A as a shortcut for alias.<br />
<br />

<pre><code>forward
backward
left
right</code></pre>

Move you in said direction (defaults to cursor keys).<br />
<br />

<pre><code>attack</code></pre>

Fires the current weapon. default = left mouse<br />
<br />

<pre><code>jump</code></pre>

Triggers a jump. default key space &amp; right mouse.<br />
<br />

<pre><code>fov N</code></pre>

Sets your FOV to 10..150.<br />
<br />

<pre><code>setfullscreenshader Name</code></pre>

Sets your favourite fullscreen shader. Active permanently once set. Use without name argument to turn it off. Current example shaders: invert, gbr, sobel, bloom<br />
<br />

<pre><code>screenshot</code></pre>

Writes out &quot;screenshotN.bmp&quot;, where N is the number of milliseconds since cube was launched (default key = F12).<br />
A little modified example :<br />

<pre><code>// do a pretty screenshot (hiding HUD and all)
MPscreenshot = [
    phh = $hidehud
    phs = $hidestats
    phg = $hudgun
    hudgun 0
    hidestats 1
    hidehud 1
    sleep 2 screenshot
    sleep 3 [hudgun $phg; hidestats $phs; hidehud $phh;echo SCREENSHOT made]
]</code></pre>

<br />
<br />

<pre><code>hidehud b</code></pre>

Turns on/off the entire hud display, which includes rendering stats, ammo, and echoed text. (default = 0)<br />
<br />

<pre><code>crosshairsize n</code></pre>

Sets the size of your crosshair, 0 being off (default = 3)<br />
<br />

<pre><code>keymap K N A

// for players using a german keyboard the following keymappings can be added to data/keymap.cfg
keymap 223 SZ
keymap 252 UE
keymap 246 OE
keymap 228 AE</code></pre>

<br />
Sets up the keymap for key code K with name N and default action A. You should never have to use this command manually, use &quot;bind&quot; instead.<br />
<br />

<pre><code>// for people uncomfortable with using &quot;BACKQUOTE&quot;:
bind CARET [saycommand /]</code></pre>


    </div>
  </body>
</html>