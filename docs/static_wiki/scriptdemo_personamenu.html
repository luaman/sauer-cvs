<html>
  <head>
    <title>cube &raquo; scriptdemo_personamenu</title>
    <link rel="stylesheet" href="static/style.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
open menus.cfg and look for a line reading<br />

<pre><code>newmenu main</code></pre>

<br />
this is where it all begins!<br />
<br />
Then locate the line defining the quit menuitem<br />

<pre><code>menuitem &quot;quit&quot;</code></pre>

and place a new line above it :<br />

<pre><code>menuitem &quot;Persona&quot; &quot;showmenu mypersona&quot;</code></pre>

<br />
then move to the end of the file and enter some lines to define this menu to be shown :<br />

<pre><code>bteam = &quot;GWAR&quot;
pnlist = &quot;Mutilator _ Anihalator _ InH4L3 BRTH ExH4L3 BRTH Frodo RING Mithrandir RING Batou PP#9 Ichikawa PP#9 Morgoth _ Spawn634 _&quot;

newmenu mypersona
loop i (div (listlen $pnlist) 2) [
    j = (* $i 2)
    k = (+ $j 1)
    pn = (at $pnlist $j)
    pt = (at $pnlist $k)
    ct = $bteam
    if (strcmp $pt &quot;_&quot;) [] [ct = $pt]
    mi = (concat &quot;name&quot; (concatword $pn &quot;;team&quot;) $ct)
    menuitem $pn $mi
]</code></pre>

<br />
The whole thing works by taking always two elements from the list, the second being interpreted as team, if it isn't an underscore. The first will be your new name, this is displayed in the menu. The team will default (in case of an underscore) to what bteam is set to.
    </div>
  </body>
</html>