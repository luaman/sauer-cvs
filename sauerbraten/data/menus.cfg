// standard menu definitions
// don't modify, add personal menus to autoexec.cfg instead

bind ESCAPE "showmenu main"    // it all starts here


newmenu main

menuitem "load map.."       "showmenu maps"
menuitem "singleplayer.."   "showmenu singleplayer"
menuitem "multiplayer.."    "showmenu multiplayer"
menuitem "editing.."        "showmenu editing"
menuitem "about.."          "showmenu about"
menuitem "quit"

newmenu about

menuitem "Sauerbraten engine" " "
menuitem "by Wouter van Oortmerssen" " "
menuitem "with contributions from Eihrul, Gilt, Jerry Siebe and others" " "
menuitem "http://strlen.com/sauerbraten/" "echo sorry no built-in web browser yet :)"

alias genmapitems [
    alias n (listlen $arg1)
    loop $n [
        at $arg1 $i
        alias mapname $s
        concat map $s
        menuitem $s
        alias next (+ $i 1)
        if (= $next $n) [ alias next 0 ] []
        at $arg1 $next
        alias nextmap $s
        concatword nextmap_ $mapname
        alias $s $nextmap
    ]
]

newmenu maps

genmapitems "aard3 bob nmp5 nmp4 nmp3 nmp1 fortress"
menuitem "more maps..." "showmenu moremaps"
menuitem "test maps..." "showmenu testmaps"

newmenu moremaps

genmapitems "spiralz nmp2 stdm1 stdm2 temp bitch castles blah church dog city rtf1 rtfscrapers ruins staffy"

newmenu testmaps

genmapitems "fdc bl staff2 x pyr tiny sla-town ball2 collisiontest ltest ocean"

newmenu editing

menuitem "insert entity at selection corner.."              "showmenu newent"
menuitem "lighting.."                                       "showmenu lighting"
menuitem "fix textures in old maps"                         "fixfaces"
menuitem "optimize map"                                     "remip"
menuitem "toggle edit mode (key E)"                         "edittoggle"
menuitem "undo last edit action (key Z)"                    "undo"
menuitem "copy selection (key C)"                           "copy"
menuitem "paste selection (key V)"                          "paste"
menuitem "flip cube (key X)"                                "flip"
menuitem "deselect (key SPACE)"                             "jump"
menuitem "map operations.."                                 "showmenu mapop"
menuitem "help: show more editing keys..."                  "showmenu editkeys"

newmenu lighting

menuitem "recompute lights (may take a few secs)" "calclight"

menuitem "lightprecision very fine    (16)" "lightprecision 16"
menuitem "lightprecision fine         (24)" "lightprecision 24"
menuitem "lightprecision default      (32)" "lightprecision 32"
menuitem "lightprecision ok           (40)" "lightprecision 40"
menuitem "lightprecision coarse       (64)" "lightprecision 64"
menuitem "lightprecision very coarse (128)" "lightprecision 128"

menuitem "lighterror low     (4)" "lighterror 4"
menuitem "lighterror default (8)" "lighterror 8"
menuitem "lighterror high   (12)" "lighterror 12"

menuitem "4x sampling on " "aalights 1"
menuitem "4x sampling off" "aalights 0"

newmenu mapop

menuitem "save temp map"                      "savemap temp"
menuitem "load temp map"                      "map temp"
menuitem "newmap 256^3 cubes"                 "newmap 10"
menuitem "newmap 512^3 cubes"                 "newmap 11"
menuitem "newmap 1024^3 cubes (recommended)"  "newmap 12"
menuitem "newmap 2048^3 cubes"                "newmap 13"
menuitem "newmap 4096^3 cubes (stupid...)"    "newmap 14"
menuitem "newmap 8192^3 cubes (...)"          "newmap 15"
menuitem "newmap 16384^3 cubes (OMFG!)"       "newmap 16"
menuitem "increase mapsize (2x)"              "mapenlarge"
menuitem "Recalculate map"                    "recalc"
menuitem "set undo megs to 1 (default)"	      "undomegs 1"
menuitem "set undo megs to 5 "        	      "undomegs 5"
menuitem "set undo megs to 10"                "undomegs 10"
menuitem "set map title/author"               "saycommand /mapmsg"

newmenu newent

menuitem "mapmodels.."      "showmenu mapmodels"
menuitem "white light.."    "showmenu light"
menuitem "coloured light.." "showmenu colour"
menuitem "teleport.."       "showmenu teleport"
menuitem "monster.."        "showmenu monster"
menuitem "trigger.."        "showmenu trigger"
menuitem "newent playerstart"
menuitem "newent shells"
menuitem "newent bullets"
menuitem "newent rockets"
menuitem "newent riflerounds"
menuitem "newent health"
menuitem "newent healthboost"
menuitem "newent greenarmour"
menuitem "newent yellowarmour"
menuitem "newent quaddamage"

newmenu trigger

loop 9 [ concat newent trigger (+ $i 1) 0; menuitem $s ]

newmenu light

menuitem "newent light  4 255 255 255"
menuitem "newent light  8 255 255 255"
menuitem "newent light 12 255 255 255"
menuitem "newent light 16 255 255 255"
menuitem "newent light  4 192 192 192"
menuitem "newent light  8 192 192 192"
menuitem "newent light 12 192 192 192"
menuitem "newent light 16 192 192 192"

newmenu colour
menuitem "sunlight"    "newent light 1000 255 200 100"
menuitem "blue.."      "showmenu blue"
menuitem "red.."       "showmenu red"
menuitem "green.."     "showmenu green"
menuitem "yellow.."    "showmenu yellow"
menuitem "purple.."    "showmenu purple"
menuitem "turquoise.." "showmenu turquoise"

alias colourmenu [
  newmenu $arg1
  colourhalf
  colourhalf "" (div $arg2 2) (div $arg3 2) (div $arg4 2)
]

alias colourhalf [
  loop 4 [
    at "4 8 12 16" $i;
    concat newent light $s $arg2 $arg3 $arg4;
    menuitem $s
  ]
]

colourmenu blue      192 192 255
colourmenu red       255 192 192
colourmenu green     192 255 192
colourmenu yellow    255 255 192
colourmenu purple    255 192 255
colourmenu turquoise 192 255 255

newmenu teleport

menuitem "newent teleport 1"
menuitem "newent teledest 1"
menuitem "newent teleport 2"
menuitem "newent teledest 2"
menuitem "newent teleport 3"
menuitem "newent teledest 3"
menuitem "newent teleport 4"
menuitem "newent teledest 4"

newmenu mapmodels

menuitem "tree1"           "newent mapmodel 0"


newmenu monster

menuitem "ogro / fireball"      "newent monster 0"
menuitem "rhino / chaingun"      "newent monster 1"
menuitem "ratamahatta / shotgun"      "newent monster 2"
menuitem "slith / rifle" "newent monster 3"
menuitem "bauul / RL"     "newent monster 4"
menuitem "hellpig / bite"       "newent monster 5"
menuitem "knight / iceball" "newent monster 6"
menuitem "goblin / slimeball"   "newent monster 7"

newmenu editkeys

menuitem "hold F + scroll wheel pushes the face of a cube"                " "
menuitem "hold G + scroll wheel changes gridsize"                         " "
menuitem "hold T + scroll wheel changes textures"                         " "
menuitem "hold R + scroll wheel rotates cubes 90 degrees"                 " "
menuitem "hold Q + scroll wheel pushes the corner you're looking at"      " "
menuitem "scroll wheel only, pushes/pulls entire cubes"                   " "
menuitem "--------------------------------------------"                   " "
menuitem "hold shift while selecting to select corners in an area"        " "

newmenu singleplayer

//menuitem "start SP map.." "mode -2; showmenu spmaps"
menuitem "start DMSP map.." "mode -1; showmenu maps"
menuitem "change skill level" "showmenu skill"
//menuitem "savegame quicksave"
//menuitem "loadgame quicksave"

newmenu skill

menuitem "skill 1"
menuitem "skill 2"
menuitem "skill 3 (default)" "skill 3"
menuitem "skill 4"
menuitem "skill 5"
menuitem "skill 6"
menuitem "skill 7"
menuitem "skill 8"
menuitem "skill 9"
menuitem "skill 10"

newmenu multiplayer

//menuitem "server browser.."  "servermenu"
menuitem "vote game mode / map .." "showmenu gamemode"
menuitem "connect localhost"
//menuitem "update server list from master server" "updatefrommaster"
menuitem "disconnect"
menuitem "team red"
menuitem "team blue"
//menuitem "record tempdemo"
//menuitem "demo tempdemo"
//menuitem "stop demo play/recording"

newmenu gamemode

menuitem "ffa/default"        "mode 0;  showmenu maps"
menuitem "coop edit"          "mode 1;  showmenu maps"
menuitem "ffa/duel"           "mode 2;  showmenu maps"
menuitem "teamplay"           "mode 3;  showmenu maps"
menuitem "instagib"           "mode 4;  showmenu maps"
menuitem "instagib team"      "mode 5;  showmenu maps"
menuitem "efficiency"         "mode 6;  showmenu maps"
menuitem "efficiency team"    "mode 7;  showmenu maps"
menuitem "insta arena"        "mode 8;  showmenu maps"
menuitem "insta clan arena"   "mode 9;  showmenu maps"
menuitem "tactics arena"      "mode 10; showmenu maps"
menuitem "tactics clan arena" "mode 11; showmenu maps"
