// standard menu definitions
// don't modify, add personal menus to autoexec.cfg instead

bind ESCAPE "showmenu main"    // it all starts here


newmenu main

menuitem "load map.."       "showmenu maps"
menuitem "singleplayer.."   "showmenu singleplayer"
menuitem "multiplayer.."    "showmenu multiplayer"
menuitem "editing.."        "showmenu editing"
menuitem "options.."        "showmenu options"
menuitem "about.."          "showmenu about"
menuitem "quit"

newmenu about

menuitem "Sauerbraten engine" " "
menuitem "by Wouter van Oortmerssen" " "
menuitem "with contributions from Eihrul, Gilt, driAn, Jerry Siebe and others" " "
menuitem "http://sauerbraten.org/" "echo sorry no built-in web browser yet :)"

genmapitems = [
    n = (listlen $arg1)
    loop i $n [
        mapname = (at $arg1 $i)
        aliasname = (concatword bestscore_ $mapname)
        title = [^if (= (getalias @aliasname) 0) [ result @@mapname ] [ concatword @@mapname " (best score: " $@@aliasname ")" ] ]
        menuitem $title (concat map $mapname)
        next = (+ $i 1)
        if (= $next $n) [ next = 0 ] []
        nextmap = (at $arg1 $next)
        (if (= $numargs 2) [concatword nextmap_ $arg2 $mapname] [concatword nextmap_ $mapname]) = $nextmap
    ]
]

newmenu maps

genmapitems "metl4 deathtek aard3c metl2 ruby curvedm metl3 nmp8_d complex killfactory roughinery oasis shadowed moonlite"
menuitem "RPG maps (WiP!)" "showmenu rpgmaps"
menuitem "capture maps..." "mode 12; showmenu capturemaps"
menuitem "more maps..." "showmenu moremaps"

newmenu moremaps

genmapitems "darkdeath thetowers kmap5 jungle chronos serpentine drianmp4 katrez_d orion aard3 aard3b ksauer1 pgdm ogromines nod nmp7 vootdm2 vootdm3 chthon nmp4 tartech wdcd yesterday boxfactory vootdm1 neon space boo2 out id legoland nmp10 pindakaas nmp5 frozen sss new nmp3 sla1 fortress cdf tshagger1a fanatic01 ladder spiralz secondevermap firstevermap"

newmenu capturemaps

genmapitems "fb_capture urban_c face-capture nmp9 nmp8_c ph-capture" capture_

newmenu rpgmaps

genmapitems "k_rpg1 demomap rpg_01 rpg"

newmenu spmaps

genmapitems "vr bbb ogrowaystation sp3 sp2 stsp1 door_demo"

newmenu Episode1

genmapitems "base/sp_maps/sauer_sp1-1 base/sp_maps/sauer_sp1-2 base/sp_maps/sauer_sp1-3 base/sp_maps/sauer_sp1-4 base/sp_maps/sauer_sp1-5 base/sp_maps/sauer_sp1-6 base/sp_maps/sauer_sp1-7 base/sp_maps/sauer_sp1-8"

newmenu singleplayer

menuitem "Start Sauerbraten Episode 1 (WiP!)" "mode -2; showmenu Episode1"
menuitem "start SP map.." "mode -2; showmenu spmaps"
menuitem "start DMSP map.." "mode -1; showmenu maps"
menuitem "change skill level" "showmenu skill"

newmenu skill

menuitem "skill 1"
menuitem "skill 2"
menuitem "skill 3 (default)" "skill 3"
menuitem "skill 4"
menuitem "skill 5"
menuitem "skill 6"
menuitem "skill 7"
menuitem "skill 8"
menuitem "skill 9"
menuitem "skill 10"

newmenu multiplayer

menuitem "server browser.."  "servermenu"
menuitem "vote game mode / map .." "showmenu gamemode"
menuitem "lanconnect"
menuitem "connect localhost"
menuitem "update server list from master server" "updatefrommaster"
menuitem "disconnect"
menuitem "team red"
menuitem "team blue"

newmenu team
menuitem "team red"
menuitem "team blue"

newmenu gamemode

menuitem "ffa/default"        "mode 0;  showmenu maps"
menuitem "coop edit"          "mode 1;  showmenu maps"
menuitem "ffa/duel"           "mode 2;  showmenu maps"
menuitem "teamplay"           "mode 3;  showmenu maps"
menuitem "instagib"           "mode 4;  showmenu maps"
menuitem "instagib team"      "mode 5;  showmenu maps"
menuitem "efficiency"         "mode 6;  showmenu maps"
menuitem "efficiency team"    "mode 7;  showmenu maps"
menuitem "insta arena"        "mode 8;  showmenu maps"
menuitem "insta clan arena"   "mode 9;  showmenu maps"
menuitem "tactics arena"      "mode 10; showmenu maps"
menuitem "tactics clan arena" "mode 11; showmenu maps"
menuitem "capture"            "mode 12; showmenu capturemaps"

newmenu editing

menuitem "insert entity.."                                  "showmenu newent"
menuitem "lighting.."                                       "showmenu lighting"
menuitem "materials.."                                      "showmenu materials"
menuitem "toggle edit mode	(key E)"                    "edittoggle"
menuitem "select		drag left mouse   "	    " "
menuitem "select corners	drag middle mouse "         " "
menuitem "deselect		(key SPACE)"                "cancelsel"
menuitem "extend selection	(key B)"                    "selextend"
menuitem "passthrough	(hold CTRL)"                        "passthrough"
menuitem "copy		(key C)"			    "copy"
menuitem "paste		(key V)"			    "paste"
menuitem "flip / mirror cube	(key X)"                    "flip"
menuitem "undo		(key Z, U)"                 "undo"
menuitem "redo		(key I)"                    "redo"
menuitem "map operations.."                                 "showmenu mapop"
menuitem "help: show more editing keys..."                  "showmenu editkeys"

newmenu lighting

menuitem "recompute lights (SLOW: 8xAA, model shadows)" "calclight 2"
menuitem "recompute lights (slow: 8xAA)                 "calclight 1"
menuitem "recompute lights (default: 4xAA)"             "calclight 0"
menuitem "recompute lights (quick: 2xAA)"               "calclight -1"
menuitem "recompute lights (FAST: no AA, no shadows)"   "calclight -2"
menuitem "patch lighting"                         "patchlight"
menuitem "fullbright on"                          "fullbright 1"
menuitem "fullbright off"                         "fullbright 0"

menuitem "lightprecision very fine	(16)" "lightprecision 16"
menuitem "lightprecision fine		(24)" "lightprecision 24"
menuitem "lightprecision default		(32)" "lightprecision 32"
menuitem "lightprecision ok		(40)" "lightprecision 40"
menuitem "lightprecision coarse		(64)" "lightprecision 64"
menuitem "lightprecision very coarse	(128)" "lightprecision 128"

menuitem "lighterror low		(4)" "lighterror 4"
menuitem "lighterror default		(8)" "lighterror 8"
menuitem "lighterror high		(12)" "lighterror 12"

//menuitem "lightlod high (6)" "lightlod 6"
//menuitem "lightlod low  (2)" "lightlod 2"
//menuitem "lightlod off  (0)" "lightlod 0"

newmenu materials

menuitem "air"                        "editmat air"
menuitem "water"                      "editmat water"
menuitem "clip"                       "editmat clip"
menuitem "glass"                      "editmat glass"
menuitem "noclip"                     "editmat noclip"

menuitem "show material volumes"      "showmat 1"
menuitem "hide material volumes"      "showmat 0"

menuitem "waterlod very high		(3)"  "waterlod 3"
menuitem "waterlod high		(2)"          "waterlod 2"
menuitem "waterlod default		(1)"  "waterlod 1"
menuitem "waterlod low		(0)"          "waterlod 0"

menuitem "watersubdiv very fine	(0)"          "watersubdiv 0"
menuitem "watersubdiv fine		(1)"  "watersubdiv 1"
menuitem "watersubdiv default		(2)"  "watersubdiv 2"
menuitem "watersubdiv coarse		(3)"  "watersubdiv 3"

menuitem "water waves on"                     "waterwaves 1"
menuitem "water waves off"                    "waterwaves 0"

newmenu mapop

menuitem "save temp map"                      "savemap temp"
menuitem "load temp map"                      "map temp"
menuitem "newmap 256^3 cubes"                 "newmap 10"
menuitem "newmap 512^3 cubes"                 "newmap 11"
menuitem "newmap 1024^3 cubes (recommended)"  "newmap 12"
menuitem "newmap 2048^3 cubes"                "newmap 13"
menuitem "newmap 4096^3 cubes"                "newmap 14"
menuitem "newmap 8192^3 cubes"                "newmap 15"
menuitem "newmap 16384^3 cubes "              "newmap 16"
menuitem "increase mapsize (2x)"              "mapenlarge"
menuitem "set undo megs to 1 "		      "undomegs 1"
menuitem "set undo megs to 5 (default)"       "undomegs 5"
menuitem "set undo megs to 10"                "undomegs 10"
menuitem "Optimize map"                       "remip"
menuitem "set map title/author"               "saycommand /mapmsg"

newmenu newent

selentedit	= [ "saycommand" ( concatword "/entedit " (enttype) " " (entattr 0) " " (entattr 1) " " (entattr 2) " " (entattr 3)) ] 
selreplaceents	= [ "saycommand" ( concatword "/replaceents " (enttype) " " (entattr 0) " " (entattr 1) " " (entattr 2) " " (entattr 3)) ]  

menuitem "drop entities.."              "showmenu dropent"
menuitem "mapmodels.."                  "showmenu mapmodels"
menuitem "white light.."                "showmenu light"
menuitem "coloured light.."             "showmenu colour"
menuitem "teleport.."                   "showmenu teleport"
menuitem "monster.."                    "showmenu monster"
menuitem "trigger.."                    "showmenu trigger"
menuitem "delete entity	(BACKSPACE)"                        "delent"
menuitem "edit entity		(PERIOD)" "selentedit"
menuitem "replace entities	(COMMA)" "selreplaceents"
menuitem "newent playerstart"
menuitem "newent shells"
menuitem "newent bullets"
menuitem "newent rockets"
menuitem "newent riflerounds"
menuitem "newent grenades"
menuitem "newent cartridges"
menuitem "newent health"
menuitem "newent healthboost"
menuitem "newent greenarmour"
menuitem "newent yellowarmour"
menuitem "newent quaddamage"

newmenu dropent

menuitem "to the floor"                 "entdrop 1"
menuitem "on selection"                 "entdrop 2"
menuitem "to the floor at selection"    "entdrop 3"
menuitem "at current position"          "entdrop 0"
menuitem " "    ""
menuitem "toggle entity snap-to-grid"   "if (= $entselsnap 1) [ entselsnap 0 ] [entselsnap 1]"
menuitem "toggle entity selection"	"if (> $entselradius 0) [ entselradius 0 ] [entselradius 2]"


newmenu trigger

menuitem [invisible]				[BTmm = -1; showmenu trigger2]
menuitem [a carrot]					[BTmm = 23; showmenu trigger2]
menuitem [switch #1]				[BTmm = 24; showmenu trigger2]
menuitem [switch #2]				[BTmm = 25; showmenu trigger2]
menuitem [door #1]					[BTmm = 26; showmenu trigger2]
menuitem [door #2]					[BTmm = 27; showmenu trigger2]
menuitem [door #3]					[BTmm = 28; showmenu trigger2]

newmenu trigger2

menuitem [animation loop]						[BTtt = 0; showmenu trigger3]
menuitem [trigger once (popback)]				[BTtt = 1; showmenu trigger3]
menuitem [trigger once (popback & rumble)]		[BTtt = 2; showmenu trigger3]
menuitem [trigger once]							[BTtt = 3; showmenu trigger3]
menuitem [trigger once (rumble)]				[BTtt = 4; showmenu trigger3]
menuitem [trigger multiple (popback)]			[BTtt = 5; showmenu trigger3]
menuitem [trigger multiple (popback & rumble)]	[BTtt = 6; showmenu trigger3]
menuitem [trigger multiple]						[BTtt = 7; showmenu trigger3]
menuitem [trigger multiple (rumble)]			[BTtt = 8; showmenu trigger3]
menuitem [door (open once)]						[BTtt = 9; showmenu trigger3]
menuitem [door (auto close)]					[BTtt = 10; showmenu trigger3]
menuitem [door (locked)]						[BTtt = 11; showmenu trigger3]
menuitem [vanishing trigger]					[BTtt = 12; showmenu trigger3]
menuitem [vanishing trigger (rumble)]			[BTtt = 13; showmenu trigger3]
menuitem [End Of Level Trigger]					[BTtt = 29; showmenu trigger3]

build_trigger = [newent mapmodel $BTmm $BTtt $BTti]

newmenu trigger3

loop i 9 [
	tjt = (concat tag (concatword # $i))
	tjc = (concat BTti "=" $i ";" "build_trigger")
	menuitem $tjt $tjc 
]

newmenu light

menuitem "newent light  64 255 255 255"
menuitem "newent light 128 255 255 255"
menuitem "newent light 192 255 255 255"
menuitem "newent light 256 255 255 255"
menuitem "newent light  64 192 192 192"
menuitem "newent light 128 192 192 192"
menuitem "newent light 192 192 192 192"
menuitem "newent light 256 192 192 192"

newmenu colour
menuitem "sunlight"    "newent light 0 255 200 100"
menuitem "blue.."      "showmenu blue"
menuitem "red.."       "showmenu red"
menuitem "green.."     "showmenu green"
menuitem "yellow.."    "showmenu yellow"
menuitem "purple.."    "showmenu purple"
menuitem "turquoise.." "showmenu turquoise"

colourmenu = [
  newmenu $arg1
  colourhalf
  colourhalf "" (div $arg2 2) (div $arg3 2) (div $arg4 2)
]

colourhalf = [
  loop i 4 [
    menuitem (concat newent light (at "64 128 192 256" $i) $arg2 $arg3 $arg4)
  ]
]

colourmenu blue      192 192 255
colourmenu red       255 192 192
colourmenu green     192 255 192
colourmenu yellow    255 255 192
colourmenu purple    255 192 255
colourmenu turquoise 192 255 255

newmenu teleport

menuitem "newent teleport 1"
menuitem "newent teledest 1"
menuitem "newent teleport 2"
menuitem "newent teledest 2"
menuitem "newent teleport 3"
menuitem "newent teledest 3"
menuitem "newent teleport 4"
menuitem "newent teledest 4"

newmenu mapmodels

mapmodellist = ["tree1"
"dcp/tree2"
"dcp/tree3"
"dcp/palmtree"
"dcp/thorns"
"dcp/plant1"
"dcp/grass"
"dcp/ivy"
"dcp/barrel"
"dcp/streetlamp"
"dcp/bench"
"dcp/pillar"
"dcp/waterbowl"
"dcp/jumppad2"
"dcp/leafs"
"dcp/valve"
"dcp/palette"
"dcp/vent"
"dcp/mushroom"
"dcp/biotank"
"dcp/groundlamp"
"dcp/console"
"dcp/turret"
"carrot"
"switch1"
"switch2"
"doors/door_01"
"doors/door_02"
"doors/door_03"
"dcp/cask"
"dcp/cart"
"dcp/candle"
"dcp/vase"
"dcp/sack"
"dcp/chandelier"
"dcp/chest"
"dcp/firebowl"
"dcp/smplant"
"dcp/insect"
"dcp/reed"
"makke/nocamp"
"makke/strahler"
"tentus/food-drink/goblet"
"tentus/food-drink/apple"
"tentus/food-drink/pear"
"tentus/food-drink/appleslice"
"tentus/food-drink/meat"
"tentus/food-drink/bowl"
"tentus/food-drink/pieslice"
"tentus/food-drink/mug"
"tentus/food-drink/winebottle"
"tentus/food-drink/pie"
"tentus/books/flat"
"tentus/books/multi"
"tentus/chains/chain"
"tentus/chains/curvechain"
"tentus/barrel"
"tentus/sidebarrel"
"tentus/pot1"
"tentus/rope"
"tentus/ropelamp"
"tentus/ladder"
"tentus/fattree"
"tentus/moneybag"
"tentus/woodbench"
"tentus/hammer"
"tentus/anvil"
"tentus/spear"
"tentus/key"
"tentus/redshield"
"tentus/greenshield"
"tentus/bombs"
"objects/window01"
"objects/sign01"
"objects/lamp01"
"objects/chair01"
"objects/bed01"
"vegetation/tree00"
"vegetation/tree01"
"vegetation/bush01"
"vegetation/tree02"
"vegetation/tree04"
"vegetation/tree05"
"vegetation/tree06"
"vegetation/tree07"
"vegetation/tree03"
"objects/window02/window02_1"
"objects/window02/window02_2"
"objects/bench01"
"objects/lantern01"
"objects/lantern02"
"objects/woodchop"
"objects/table01"
"objects/torch"
"objects/torch_cold"
"objects/fire"
"objects/sail01"
"objects/well_base"
"objects/well_roof"
"objects/lamp02"
"objects/med_chand"]

loop i (listlen $mapmodellist) [
    cmd = (concat newent mapmodel $i)
    menuitem (at $mapmodellist $i) $cmd
]

newmenu monster

menuitem "ogro / fireball"      "newent monster 0"
menuitem "rhino / chaingun"      "newent monster 1"
menuitem "ratamahatta / shotgun"      "newent monster 2"
menuitem "slith / rifle" "newent monster 3"
menuitem "bauul / RL"     "newent monster 4"
menuitem "hellpig / bite"       "newent monster 5"
menuitem "knight / iceball" "newent monster 6"
menuitem "goblin / slimeball"   "newent monster 7"

newmenu editkeys

menuitem "push/pull selection		scroll wheel only"		" "
menuitem "push the face of a cube	hold F + scroll wheel"            " "
menuitem "change gridsize		hold G + scroll wheel"            " "
menuitem "change textures		hold Y + scroll wheel"                         " "
menuitem "rotate cubes 90 degrees	hold R + scroll wheel"                 " "
menuitem "push corner with cursor	hold Q + scroll wheel"      " "
menuitem " " " "
menuitem "heightmap mode		(key H)"                           "getheightmap"
menuitem "push/pull heightmap		scroll wheel only"           " "
menuitem "change heightmap brush	hold J + scroll wheel"       " "
menuitem " " " "
menuitem "toggle outline		(key 7)" "if (= $outline 1) [outline 0] [outline 1]"
menuitem "toggle wireframe		(key 8)" "if (= $wireframe 1) [ wireframe 0 ] [wireframe 1]"

newmenu options

menuitem "keybindings..."       "showmenu keybinds"
menuitem "fullscreen effect.."  "showmenu fullscreeneffect"
menuitem "display.."            "showmenu displayoptions"
menuitem "input.."              "showmenu inputoptions"
menuitem "sound.."              "showmenu soundoptions"

newmenu fullscreeneffect

menuitem "(effect OFF)"          "setfullscreenshader"
menuitem "bloom (subtle: 40)"    "setfullscreenshader bloom 40" 
menuitem "bloom (bright: 80)"    "setfullscreenshader bloom 80" 
menuitem "bloom (intense: 120)"  "setfullscreenshader bloom 120" 
menuitem "sobel"  "setfullscreenshader sobel" 
menuitem "invert" "setfullscreenshader invert" 
menuitem "gbr"    "setfullscreenshader gbr" 

newmenu displayoptions

menuitem "toggle fullscreen"    "fullscreen"

menuitem "320x240"              "screenres 320 240"
menuitem "640x480"              "screenres 640 480"
menuitem "800x600"              "screenres 800 600"
menuitem "1024x768"             "screenres 1024 768"
menuitem "1152x768"             "screenres 1152 768"
menuitem "1200x960"             "screenres 1200 960"
menuitem "1280x1024"            "screenres 1280 1024"
menuitem "1600x1200"            "screenres 1600 1200"

newmenu inputoptions

menuitem "invert mouse on"              "invmouse 1"
menuitem "invert mouse off"             "invmouse 0"

newmenu soundoptions

menuitem "soundvol max		(255)"           "soundvol 255"
menuitem "soundvol high		(192)"           "soundvol 192"
menuitem "soundvol medium		(128)"           "soundvol 128"
menuitem "soundvol low		(64)"           "soundvol 64"
menuitem "soundvol off		(0)"           "soundvol 0"

menuitem "musicvol max		(255)"           "musicvol 255"
menuitem "musicvol high		(192)"           "musicvol 192"
menuitem "musicvol medium		(128)"           "musicvol 128"
menuitem "musicvol low		(64)"           "musicvol 64"
menuitem "musicvol off		(0)"           "musicvol 0"

newmenu keybinds
menuitem "(basic keybinds, for anything more use the 'bind' command)" ""
menuitem "select action to bind:" ""
actions = [forward backward left right jump attack "universaldelta 1" "universaldelta -1" edittoggle saycommand "weapon 1" "weapon 2" "weapon 3" "weapon 4"]
loop i (listlen $actions) [ action = (at $actions $i); menuitem $action (concat menubind $action) ] 

menubind = [ tobind = $arg1; showmenu binditto ]
bindit = [ bind $arg1 $tobind ]

newmenu binditto
keys = "MOUSE1 MOUSE2 MOUSE3 MOUSE4 MOUSE5 SPACE CTRL ALT TAB ESCAPE BACKQUOTE SHIFT BACKSPACE ENTER INSERT DELETE HOME END PAGEUP PAGEDOWN A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 1 2 3 4 5 6 7 8 9 0 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12"
loop i (listlen $keys) [ key = (at $keys $i); menuitem $key (concat bindit $key) ]
