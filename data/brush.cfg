// this config defines various heightmap brushes

// a brush has two parts: the brushmap and the brushhandle

// the brushmap is a 2D field that defines how the brush affects a heightmap

// the brushhandle is a 2D vertex on the brushmap.
// this handle is a reference point on the brushmap which represents
// where the editing cursor is pointed at.

// clearbrush                   : resets the brushmap
// brushvert <x> <y> <value>    : set a point on the brushmap
// brushx <x>                   : the x coordinate of the brushhandle
// brushy <y>                   : the y coordinate of the brushhandle

// copybrush                    : copies the current heightmap as a brush. cursor location becomes handle
// savebrush <name>             : saves the current brush in script form into mybrushes.cfg

brushhandle = [
  brushx $arg1
  brushy $arg2
]

// bv <y> <row size> <... row values ...>
bv = [
  loop $arg2 [
    brushvert $i $arg1 (at $arg3 $i)
  ]
]

brushindex = 0
brushmax = 7                // make sure to bump this up if you add more brushes

selectbrush = [
  brushindex = ( + $brushindex $arg1 )
  if (< $brushindex 0) [ brushindex = $brushmax ]
  if (> $brushindex $brushmax) [ brushindex = 0 ]

  do [brush_@brushindex]
  echo $brushname
]

brush_0 = [
  brushname = "No Brush"
  clearbrush
]

brush_1 = [
  brushname = "Circle 1-0 Brush"
  clearbrush
  brushhandle 0 0
  brushvert 0 0 1
]

brush_2 = [
  brushname = "Circle 2-1 Brush"
  clearbrush
  brushhandle 2 2
  bv 1 3 "0 0 1 "
  bv 2 4 "0 1 2 1 "
  bv 3 3 "0 0 1 "
]

brush_3 = [
  brushname = "Circle 4-2-1 Brush"
  clearbrush
  brushhandle 2 2
  bv 0 3 "0 0 1 "
  bv 1 4 "0 1 2 1 "
  bv 2 5 "1 2 4 2 1 "
  bv 3 4 "0 1 2 1 "
  bv 4 3 "0 0 1 "
]

brush_4 = [
  brushname = "Square 3x3 brush"
  clearbrush
  brushhandle 1 1
  bv 0 3 "1 1 1 "
  bv 1 3 "1 1 1 "
  bv 2 3 "1 1 1 "
]

brush_5 = [
  brushname = "Square 5x5 brush"
  clearbrush
  brushhandle 2 2
  bv 0 5 "1 1 1 1 1 "
  bv 1 5 "1 1 1 1 1 "
  bv 2 5 "1 1 1 1 1 "
  bv 3 5 "1 1 1 1 1 "
  bv 4 5 "1 1 1 1 1 "
]

brush_6 = [
  brushname = "Square 7x7 brush"
  clearbrush
  brushhandle 3 3
  bv 0 7 "1 1 1 1 1 1 1 "
  bv 1 7 "1 1 1 1 1 1 1 "
  bv 2 7 "1 1 1 1 1 1 1 "
  bv 3 7 "1 1 1 1 1 1 1 "
  bv 4 7 "1 1 1 1 1 1 1 "
  bv 5 7 "1 1 1 1 1 1 1 "
  bv 6 7 "1 1 1 1 1 1 1 "
]

brush_7 = [
  brushname = "Noise 25x25 Brush"
  clearbrush
  brushhandle 12 12
  bv 0 17 "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 "
  bv 2 24 "0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 1 1 0 1 "
  bv 3 24 "0 0 0 0 0 1 0 0 0 1 0 0 0 0 1 0 1 0 0 1 0 0 2 2 "
  bv 4 25 "0 0 0 0 1 1 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 1 "
  bv 5 25 "0 0 0 0 0 1 0 0 0 0 0 2 0 0 0 0 1 0 0 0 1 1 0 0 1 "
  bv 6 23 "0 0 1 0 0 0 1 0 1 1 0 0 0 0 1 0 0 1 0 0 0 0 2 "
  bv 7 21 "0 0 0 1 0 1 1 0 0 0 0 0 0 0 0 0 0 1 1 1 2 "
  bv 8 25 "0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 1 1 "
  bv 9 24 "0 0 0 0 1 1 1 0 0 1 0 0 0 0 0 0 0 0 1 0 0 1 0 1 "
  bv 10 17 "0 1 0 2 0 1 1 1 1 0 0 1 0 0 0 0 1 "
  bv 11 21 "0 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 1 1 0 1 1 "
  bv 12 15 "1 0 1 0 0 0 0 0 1 0 0 0 1 0 1 "
  bv 13 26 "0 0 0 0 0 0 0 1 1 0 1 1 0 0 1 0 0 1 0 0 0 0 1 0 0 1 "
  bv 14 18 "0 1 1 1 0 3 0 2 0 0 0 1 1 0 0 0 1 1 "
  bv 15 20 "0 0 1 0 0 1 0 0 1 0 1 1 0 1 0 0 0 0 0 1 "
  bv 16 25 "0 0 1 1 0 0 0 0 2 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 1 "
  bv 17 23 "0 1 1 0 1 0 0 1 0 0 0 0 0 1 0 0 1 1 0 0 0 0 1 "
  bv 18 26 "1 0 0 0 0 0 1 0 0 1 0 0 1 0 0 0 0 0 0 0 1 0 0 1 0 1 "
  bv 19 18 "0 0 0 1 0 0 1 0 1 1 0 0 0 0 0 0 0 1 "
  bv 20 24 "0 0 0 0 0 0 1 1 1 0 1 1 1 0 0 0 0 0 0 0 0 0 0 1 "
  bv 21 25 "0 0 0 0 1 0 1 1 0 2 0 0 0 0 0 1 0 0 0 1 0 0 0 0 1 "
  bv 22 12 "0 0 0 0 0 0 0 0 0 1 0 1 "
  bv 23 23 "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 "
]
